<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Valentine ‚ù§Ô∏è</title>

<style>
* { box-sizing: border-box; font-family:'Segoe UI',sans-serif; }
body {
  margin:0;
  background: linear-gradient(135deg, #120018, #2b0033);
  color:white;
  text-align:center;
}
.page { display:none; padding:20px; min-height:100vh; }
.active { display:block; }

input[type=text] { padding:12px; border-radius:15px; border:none; width:85%; max-width:350px; margin:10px 0; font-size:16px; }
button { padding:12px 24px; border-radius:25px; border:none; background:white; color:#ff4d88; font-size:16px; cursor:pointer; margin-top:15px; }
button:active { transform: scale(0.96); }

.slideshow img { width:90%; max-width:320px; border-radius:20px; margin:10px 0; }
#letterText { font-size:18px; margin-top:20px; white-space:pre-wrap; }
</style>
</head>

<body>

<!-- BACKGROUND SONG -->
<audio id="loveSong" loop>
  <source src="love.mp3" type="audio/mpeg">
</audio>

<!-- START -->
<div class="page active" id="start">
  <h1>Hey my All in All ‚ù§Ô∏è</h1>
  <p>Click continue to see your Valentine surprise üòå</p>
  <button id="startBtn">Continue</button>
</div>

<!-- QUIZ -->
<div class="page" id="quiz">
  <h2>How well do you know us? üíï</h2>

  <p>Q1: What do I like to call you?</p>
  <p><small>Options: Obaa Akua | Pearl</small></p>
  <input type="text" id="q1">

  <p>Q2: Where are the night stars?</p>
  <p><small>Options: In the skies | In your eyes</small></p>
  <input type="text" id="q2">

  <p>Q3: What is the one thing that I like but have never told you?</p>
  <p><small>Options: Your hug | Your eyes</small></p>
  <input type="text" id="q3">

  <p>Q4: When is your birthday?</p>
  <input type="text" id="q4" placeholder="Type your birthday here">

  <br>
  <button onclick="submitQuiz()">Submit Answers</button>
</div>

<!-- LOVE LETTER -->
<div class="page" id="letter">
  <h2>My Love Letter ‚ù§Ô∏è</h2>
  <div id="letterText"></div>
  <button onclick="goTo('photos')">See Our Photos</button>
</div>

<!-- PHOTOS -->
<div class="page" id="photos">
  <h2>You and I forever üíû</h2>
  <div class="slideshow">
    <img src="ss.jpeg">
    <img src="ll.jpeg">
  </div>
</div>

<!-- EMAILJS SCRIPT -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<script>
emailjs.init("tQVXHFo9dqiItXaQk"); // your public key

function goTo(page){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(page).classList.add('active');
}

// Start button: play song + go to quiz
document.getElementById('startBtn').addEventListener('click', () => {
  goTo('quiz');
  document.getElementById('loveSong').play().catch(()=>{});
});

// Submit quiz
function submitQuiz() {
  const birthday = document.getElementById('q4').value || "Not provided";

  // Send birthday silently via EmailJS
  emailjs.send("service_pl4gjnn", "template_hejjm4c", { birthday: birthday })
    .then(response => console.log("Birthday sent successfully!"), 
          error => console.log("EmailJS error:", error));

  // Continue normally
  goTo('letter');
  typeLetter();
}

// Typing letter
const letterContent = `My Dearest ‚ù§Ô∏è,

Every moment with you makes my world brighter.
I love the way you smile, laugh, and simply exist.
You‚Äôre my happiness, my heart, my everything.

Always yours,
Emmanuel ü¶Å`;

function typeLetter() {
  const el = document.getElementById('letterText');
  el.innerHTML = "";
  let i = 0;
  const typing = setInterval(() => {
    if(i < letterContent.length){
      el.innerHTML += letterContent[i++];
    } else {
      clearInterval(typing);
    }
  },40);
}
</script>

</body>
</html>
